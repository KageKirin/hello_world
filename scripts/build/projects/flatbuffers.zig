// flatbuffers.zig generated by GENie

const std = @import("std");
const builtin = @import("builtin");
const Builder = std.build.Builder;

pub fn build(b: *Builder, target : std.zig.CrossTarget,  mode : std.builtin.Mode) void {
    if (mode == std.builtin.Mode.Debug) {
        const prj = b.addStaticLibrary("flatbuffers", null);
        prj.setTarget(target);
        prj.setBuildMode(mode);
        prj.setOutputDir("../bin/darwin");
        prj.linkLibC();
        prj.linkSystemLibrary("c");
        prj.linkLibCpp();
        prj.linkSystemLibrary("c++");
        prj.setVerboseCC(true);
        prj.setVerboseLink(true);
        prj.force_pic = true;
        prj.addIncludeDir("../../../libs/flatbuffers/flatbuffers/include");
        prj.addIncludeDir("../../../libs/flatbuffers/flatbuffers/grpc");
        prj.addIncludeDir("../../../libs/flatbuffers/flatbuffers/src");
        prj.addIncludeDir("../../../libs/flatbuffers/flatbuffers/grpc/src");
        prj.defineCMacroRaw("DEBUG");
        prj.defineCMacroRaw("_DEBUG");
        prj.addCSourceFiles(&.{
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_php.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/util.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_python.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/bfbs_gen_lua.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_go.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_grpc.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_rust.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_json_schema.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_java.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/code_generators.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_swift.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_kotlin.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_parser.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_lobster.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/reflection.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_dart.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_text.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_lua.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_ts.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_cpp.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_fbs.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_csharp.cpp",
            "../../../libs/flatbuffers/flatbuffers/grpc/src/compiler/python_generator.cc",
            "../../../libs/flatbuffers/flatbuffers/grpc/src/compiler/swift_generator.cc",
            "../../../libs/flatbuffers/flatbuffers/grpc/src/compiler/cpp_generator.cc",
            "../../../libs/flatbuffers/flatbuffers/grpc/src/compiler/java_generator.cc",
            "../../../libs/flatbuffers/flatbuffers/grpc/src/compiler/go_generator.cc",
            "../../../libs/flatbuffers/flatbuffers/grpc/src/compiler/ts_generator.cc",
        },
        &.{
            "-g",
            "-Wall -Wextra",
            "-fdiagnostics-fixit-info",
            "-fdiagnostics-color",
            "-fdiagnostics-show-note-include-stack",
            "-Wextra-tokens",
            "-Wno-undef",
        });
    }
    if (mode == std.builtin.Mode.ReleaseFast) {
        const prj = b.addStaticLibrary("flatbuffers", null);
        prj.setTarget(target);
        prj.setBuildMode(mode);
        prj.setOutputDir("../bin/darwin");
        prj.linkLibC();
        prj.linkSystemLibrary("c");
        prj.linkLibCpp();
        prj.linkSystemLibrary("c++");
        prj.setVerboseCC(true);
        prj.setVerboseLink(true);
        prj.force_pic = true;
        prj.addIncludeDir("../../../libs/flatbuffers/flatbuffers/include");
        prj.addIncludeDir("../../../libs/flatbuffers/flatbuffers/grpc");
        prj.addIncludeDir("../../../libs/flatbuffers/flatbuffers/src");
        prj.addIncludeDir("../../../libs/flatbuffers/flatbuffers/grpc/src");
        prj.defineCMacroRaw("RELEASE");
        prj.defineCMacroRaw("NDEBUG");
        prj.addCSourceFiles(&.{
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_php.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/util.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_python.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/bfbs_gen_lua.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_go.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_grpc.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_rust.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_json_schema.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_java.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/code_generators.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_swift.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_kotlin.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_parser.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_lobster.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/reflection.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_dart.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_text.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_lua.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_ts.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_cpp.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_fbs.cpp",
            "../../../libs/flatbuffers/flatbuffers/src/idl_gen_csharp.cpp",
            "../../../libs/flatbuffers/flatbuffers/grpc/src/compiler/python_generator.cc",
            "../../../libs/flatbuffers/flatbuffers/grpc/src/compiler/swift_generator.cc",
            "../../../libs/flatbuffers/flatbuffers/grpc/src/compiler/cpp_generator.cc",
            "../../../libs/flatbuffers/flatbuffers/grpc/src/compiler/java_generator.cc",
            "../../../libs/flatbuffers/flatbuffers/grpc/src/compiler/go_generator.cc",
            "../../../libs/flatbuffers/flatbuffers/grpc/src/compiler/ts_generator.cc",
        },
        &.{
            "-Os",
            "-Wall -Wextra",
            "-fdiagnostics-fixit-info",
            "-fdiagnostics-color",
            "-fdiagnostics-show-note-include-stack",
            "-Wextra-tokens",
            "-Wno-undef",
        });
    }
} // build
